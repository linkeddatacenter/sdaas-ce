###############################################################################
# This is an example sdaas platform script 
# run it with the command:
#  sdaas -f build.sdaas
###############################################################################
set -a

KEES_SRCs=("data/kees.ttl" "data/introspection.ttl" "data/trustmap.ttl")


SD_LEARN "urn:kees:config" KEES_SRCs[@]
SD_LEARN http://schema.org/ http://schema.org/version/3.4/schema.ttl
SD_LEARN \
	"urn:graph:istat" \
	'https://s3-eu-west-1.amazonaws.com/demo.hub1.linkeddata.center/data/comuni.csv' \
	"|in|out|.ttl|iconv -f ISO88592  -t UTF-8|tr -d '\r'|gateways/istat"
	
SD_EVAL_CONSTRUCTOR "urn:graph:trustmap_default" @axioms/default_trustmap.construct 
SD_EVAL_CONSTRUCTOR "urn:graph:calculated_trusts" @axioms/calculated_trusts.construct

SD_CREATE_DATA_DISTRIBUTION

SD_THATS_ALL_FOLKS